{% extends '_base.html' %} {# Inherit from base template #}

{% block title %}Analyze Expenses - HabEx{% endblock %} {# Set page title #}

{% block content %} {# Start main content block #}
<style>
    /* Styles specific to analyze_expenses.html */
    .container {
        width: 90%;
        max-width: 900px;
        background: #ffcad4; /* KEPT: Pale pink container */
        border-radius: 15px; /* Consistent rounding */
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        padding: 30px 35px; /* Adjust padding */
        margin-top: 50px; /* Margin from nav */
        text-align: center; /* Center headings */
    }

    h2 {
        text-align: center;
        color: #333;
        margin-top: 0;
        margin-bottom: 25px;
    }

    .chart-container {
        margin-top: 30px;
        padding: 20px; /* More padding */
        background-color: #fff8e7; /* KEPT: Light cream chart background */
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
    }
     .chart-container h3 {
        margin-top: 0;
        margin-bottom: 15px;
        color: #444; /* Slightly darker heading */
     }
     .chart-container img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
     }
     .chart-container p {
        color: #888;
        padding: 20px 0; /* Adjust padding */
        font-style: italic;
     }

    /* --- REMOVED Old Button Color Styles --- */
    /* Removed specific rules for '.btn-link-back' background-color and hover */
    /* Using .btn and .btn-secondary from _base.html now */

    /* Adjust layout for the back button if needed, using its new classes */
    .btn-secondary { /* Targeting the back button */
        max-width: 300px; /* Limit width */
        margin: 35px auto 10px; /* Center button with auto margins, more top margin */
        display: block; /* Ensure it takes block properties for centering */
    }

    @media (max-width: 768px) {
        .container {
            width: 95%;
            padding: 20px;
        }
         .chart-container {
             padding: 15px;
         }
    }
</style>

<div class="container">
    <h2>Analyze Your Expenses</h2>

    {# Display Category Breakdown Plot #}
    <div class="chart-container">
        <h3>Expense Breakdown by Category</h3>
        {% if plot_cat %}
            <img src="data:image/png;base64,{{ plot_cat }}" alt="Expense Category Breakdown">
        {% else %}
            <p><em>No expense data available to generate category breakdown.</em></p>
        {% endif %}
    </div>

    {# Display Monthly Trend Plot #}
    <div class="chart-container">
        <h3>Monthly Spending Trend</h3>
        {% if plot_trend %}
            <img src="data:image/png;base64,{{ plot_trend }}" alt="Monthly Spending Trend">
        {% else %}
             <p><em>No expense data available to generate monthly trend.</em></p>
        {% endif %}
    </div>

    {# Back button using classes from _base.html #}
    {# CHANGED class to btn btn-secondary #}
    <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Go Back to Dashboard</a>
</div>

{# No JavaScript needed for this page anymore #}
<script>
    // All JS removed
</script>

{% endblock %} {# End content block #}